<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Software installation • inlabruCourseMay2025</title>
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Software installation">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">inlabruCourseMay2025</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-installation" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Installation</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-installation">
<li><a class="dropdown-item" href="../articles/install.html">Software installation</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-notes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Notes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-notes">
<li><a class="external-link dropdown-item" href="http://www.maths.ed.ac.uk/~flindgre/inlabruCourseMay2025/inlabruCourseMay2025.pdf">Handwritten notes (pdf) (updated during breaks)</a></li>
    <li><a class="dropdown-item" href="../articles/lecture_notes.html">Random field and latent models</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials-day-" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials Day 1</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials-day-">
<li><h6 class="dropdown-header" data-toc-skip>Random fields</h6></li>
    <li><a class="dropdown-item" href="../articles/random_fields_1d.html">1D models</a></li>
    <li><a class="dropdown-item" href="../articles/random_fields_2d.html">2D models</a></li>
    <li><a class="dropdown-item" href="../articles/aggregated_counts_1d.html">Aggregated count models</a></li>
    <li><a class="dropdown-item" href="../articles/nonseparable_spacetime.html">Non-separable covariance</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials-day-" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials Day 2</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials-day-">
<li><a class="external-link dropdown-item" href="https://inlabru-org.github.io/inlabru/articles/2d_lgcp.html">Poisson Point processes</a></li>
    <li><a class="external-link dropdown-item" href="https://inlabru-org.github.io/inlabru/articles/2d_lgcp_distancesampling.html">Distance sampling transect surveys</a></li>
    <li><a class="dropdown-item" href="../articles/lgcp_2d_covars.html">Spatial covariates</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/lgcp_2d_spatiotemporal.html">Spatio-temporal point processes</a></li>
    <li><a class="external-link dropdown-item" href="https://inlabru-org.github.io/inlabru/articles/zip_zap_models.html">Multi-likelihood models; zero-inflated models</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="external-link dropdown-item" href="https://inlabru-org.github.io/inlabru/articles/prediction_scores.html">Predictive model assessment</a></li>
    <li><a class="external-link dropdown-item" href="https://inlabru-org.github.io/inlabru/articles/svc.html">Spatially varying coefficients</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/inlabru-org/inlabruCourseMay2025/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Software installation</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/inlabru-org/inlabruCourseMay2025/blob/main/vignettes/install.Rmd" class="external-link"><code>vignettes/install.Rmd</code></a></small>
      <div class="d-none name"><code>install.Rmd</code></div>
    </div>

    
    
<p>Please use the instructions below to install and check your
installation. If you run into issues, you can post a question with
information about what you tried and what didn’t work, on the <a href="https://github.com/inlabru-org/inlabruCourseMay2025/discussions" class="external-link">course
github discussion page</a> and Finn will reply when he’s able. Since 29
April 2025, the latest INLA package is built for R 4.5, so if you’re
able to upgrade your R installation, please do so to avoid unnecessary
issues. The package will in many cases also work with older R versions,
but compatibility is sometimes difficult.</p>
<div class="section level2">
<h2 id="installing-inla-and-inlabru">Installing <code>INLA</code> and <code>inlabru</code><a class="anchor" aria-label="anchor" href="#installing-inla-and-inlabru"></a>
</h2>
<p>Due to the work involved in building the binaries for the INLA
package C software for different architectures, the INLA package is not
on CRAN, but it can be installed from its own distribution repository.
The easiest approach is to add the repository to your local R options,
e.g. in <code>~/.Rprofile</code>, so that
<code>install.packages("INLA")</code> can work as usual. Alternatively,
the same repository information can be supplied via
<code>install.packages("INLA", repos = ...)</code>.</p>
<p>In <code>~/.Rprofile</code>, add the following lines, or run the code
in your R session:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/eval.html" class="external-link">local</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>INLA <span class="op">=</span> <span class="st">"https://inla.r-inla-download.org/R/testing"</span>,</span>
<span>         CRAN <span class="op">=</span> <span class="st">"https://cloud.r-project.org/"</span>,</span>
<span>         inlabru_universe <span class="op">=</span> <span class="st">"https://inlabru-org.r-universe.dev"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>repos <span class="op">=</span> <span class="va">r</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<p>Note: if you have installed <code>INLA</code> from the
<code>"stable"</code> repository instead of <code>"testing"</code>, you
may need to upgrade to the <code>"testing"</code> version, which
typically contains bug fixes and improvements, and is the version
<code>inlabru</code> is tested against.</p>
<p>The third repository is optional, and gives you easy access to the
development versions of <code>inlabru</code> (2.12.0.9021 or later) and
<code>fmesher</code> (0.4.0.9004 or later, which is a package dependency
of <code>INLA</code> and <code>inlabru</code>). Most of the tutorials in
this course will work with the CRAN versions of <code>inlabru</code> and
<code>fmesher</code>, <code>2.12.0</code>, but installing the
development version from <code>r-universe.dev</code> is recommended, and
required for a few new features and contains bug fixes, see <a href="https://inlabru-org.github.io/inlabru/news/" class="external-link">the inlabru
changelog</a>.</p>
<p>To install the packages, including optional dependencies many of
which are required for data analysis, run the following code in your R
session:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"INLA"</span>, <span class="st">"inlabru"</span><span class="op">)</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>The warning about the unavailable <code>HKprocess</code> package can
safely be ignored. <code>INLA</code> also suggests two Bioconductor
packages, <code>graph</code> and <code>Rgraphviz</code>, which are not
essential for this course, but can be installed with</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"BiocManager"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"BiocManager"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">BiocManager</span><span class="fu">::</span><span class="fu">install</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"graph"</span>, <span class="st">"Rgraphviz"</span><span class="op">)</span>, dep <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="installation-check">Installation check<a class="anchor" aria-label="anchor" href="#installation-check"></a>
</h2>
<p>Please check your installation using the basic model runs below. If
you run into issues, you can post a question with information about what
you tried and what didn’t work, on the <a href="https://github.com/inlabru-org/inlabruCourseMay2025/discussions" class="external-link">course
github discussion page</a> and Finn will reply when he’s able. Since 29
April 2025, the latest INLA package is built for R 4.5, so if you’re
able to upgrade your R installation, please do so to avoid unnecessary
issues. The package will in many cases also work with older R versions,
but compatibility is sometimes difficult.</p>
<p>You can check that <code>INLA</code> is correctly installed by
running</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span> <span class="op">+</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">INLA</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/INLA/man/inla.html" class="external-link">inla</a></span><span class="op">(</span></span>
<span>  <span class="va">y</span> <span class="op">~</span> <span class="fl">1</span>,</span>
<span>  data <span class="op">=</span> <span class="va">df</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span>
<span><span class="co">#&gt; Time used:</span></span>
<span><span class="co">#&gt;     Pre = 0.382, Running = 0.119, Post = 0.0143, Total = 0.516 </span></span>
<span><span class="co">#&gt; Fixed effects:</span></span>
<span><span class="co">#&gt;               mean    sd 0.025quant 0.5quant 0.975quant   mode      kld</span></span>
<span><span class="co">#&gt; (Intercept) 10.071 0.105      9.865   10.071     10.277 10.071 2352.112</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model hyperparameters:</span></span>
<span><span class="co">#&gt;                                          mean   sd 0.025quant 0.5quant</span></span>
<span><span class="co">#&gt; Precision for the Gaussian observations 0.924 0.13      0.687    0.918</span></span>
<span><span class="co">#&gt;                                         0.975quant  mode</span></span>
<span><span class="co">#&gt; Precision for the Gaussian observations       1.20 0.905</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Marginal log-Likelihood:  -158.73 </span></span>
<span><span class="co">#&gt;  is computed </span></span>
<span><span class="co">#&gt; Posterior summaries for the linear predictor and the fitted values are computed</span></span>
<span><span class="co">#&gt; (Posterior marginals needs also 'control.compute=list(return.marginals.predictor=TRUE)')</span></span></code></pre></div>
<p>If the simple <code><a href="https://rdrr.io/pkg/INLA/man/inla.html" class="external-link">inla()</a></code> call fails with a crash, you may
need to install different <code>inla</code> binaries for your
hardware/software combination, with
<code><a href="https://rdrr.io/pkg/INLA/man/binary.install.html" class="external-link">INLA::inla.binary.install()</a></code>.</p>
<p>When <code><a href="https://rdrr.io/pkg/INLA/man/inla.html" class="external-link">inla()</a></code> works, you can check that
<code>inlabru</code> is installed correctly by running the same model in
<code>inlabru</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">inlabru</span><span class="fu">::</span><span class="fu"><a href="https://inlabru-org.github.io/inlabru/reference/bru.html" class="external-link">bru</a></span><span class="op">(</span></span>
<span>  <span class="va">y</span> <span class="op">~</span> <span class="fu">Intercept</span><span class="op">(</span><span class="fl">1</span>, prec.linear <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="fl">7</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  data <span class="op">=</span> <span class="va">df</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span>
<span><span class="co">#&gt; inlabru version: 2.12.0.9021</span></span>
<span><span class="co">#&gt; INLA version: 25.06.22-1</span></span>
<span><span class="co">#&gt; Components:</span></span>
<span><span class="co">#&gt; Intercept: main = linear(1), group = exchangeable(1L), replicate = iid(1L), NULL</span></span>
<span><span class="co">#&gt; Observation models:</span></span>
<span><span class="co">#&gt;   Family: 'gaussian'</span></span>
<span><span class="co">#&gt;     Tag: &lt;No tag&gt;</span></span>
<span><span class="co">#&gt;     Data class: 'data.frame'</span></span>
<span><span class="co">#&gt;     Response class: 'numeric'</span></span>
<span><span class="co">#&gt;     Predictor: y ~ .</span></span>
<span><span class="co">#&gt;     Additive/Linear: TRUE/TRUE</span></span>
<span><span class="co">#&gt;     Used components: effects[Intercept], latent[]</span></span>
<span><span class="co">#&gt; Time used:</span></span>
<span><span class="co">#&gt;     Pre = 0.221, Running = 0.123, Post = 0.0362, Total = 0.38 </span></span>
<span><span class="co">#&gt; Fixed effects:</span></span>
<span><span class="co">#&gt;             mean    sd 0.025quant 0.5quant 0.975quant   mode      kld</span></span>
<span><span class="co">#&gt; Intercept 10.071 0.105      9.865   10.071     10.277 10.071 2351.565</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model hyperparameters:</span></span>
<span><span class="co">#&gt;                                          mean   sd 0.025quant 0.5quant</span></span>
<span><span class="co">#&gt; Precision for the Gaussian observations 0.924 0.13      0.687    0.918</span></span>
<span><span class="co">#&gt;                                         0.975quant  mode</span></span>
<span><span class="co">#&gt; Precision for the Gaussian observations       1.20 0.905</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Deviance Information Criterion (DIC) ...............: 296.69</span></span>
<span><span class="co">#&gt; Deviance Information Criterion (DIC, saturated) ....: 104.35</span></span>
<span><span class="co">#&gt; Effective number of parameters .....................: 1.99</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Watanabe-Akaike information criterion (WAIC) ...: 296.96</span></span>
<span><span class="co">#&gt; Effective number of parameters .................: 2.19</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Marginal log-Likelihood:  -163.19 </span></span>
<span><span class="co">#&gt;  is computed </span></span>
<span><span class="co">#&gt; Posterior summaries for the linear predictor and the fitted values are computed</span></span>
<span><span class="co">#&gt; (Posterior marginals needs also 'control.compute=list(return.marginals.predictor=TRUE)')</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Finn Lindgren.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
